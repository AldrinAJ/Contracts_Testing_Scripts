import sys
import os
import requests

# Etherscan API
# Compound contract
# https://api.etherscan.io/api?module=contract&action=getsourcecode&address=0xc00e94cb662c3520282e6f5717214004a7f26888&apikey=5Q5XRN6BZHNNKPR2XW94F2RQWG91954C2K
REST_URL = "https://api.etherscan.io/api?apikey=5Q5XRN6BZHNNKPR2XW94F2RQWG91954C2K&module=contract&action=getsourcecode&address="
TEST_ADDR = "0xc00e94cb662c3520282e6f5717214004a7f26888"

def parseSrcCode(contAddr):
	#build API
	r = requests.get(url=REST_URL + contAddr)
	data = r.json()

	#parse SourceCode
	print (data["result"][0]["SourceCode"])

def main():
	if (len(sys.argv) > 1):
		contAddr = str(sys.argv[1])

	parseSrcCode(contAddr)

if __name__ == '__main__':
	main()
